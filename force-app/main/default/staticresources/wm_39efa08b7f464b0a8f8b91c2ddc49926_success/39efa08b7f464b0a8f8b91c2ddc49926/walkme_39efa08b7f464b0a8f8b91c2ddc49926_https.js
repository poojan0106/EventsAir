/*!
 * WalkMe
 * http://www.walkme.com/
 *
 * Copyright 2012, WalkMe ltd
 */
function WalkmeSnippet(){window._walkmeInternals=window._walkmeInternals||{},U("snippetStartInit");var l,r,g,m,_,p,t,h=this,e=!1,n="40",v={publish:0,preview:1},S=v.publish;try{t=window.localStorage}catch(D){}function b(e){p.snippetLog.push(e)}function k(){window["walkme_custom_settings_data"]?(b("lso"),i(walkme_custom_settings_data)):(b("lsp"),U("settingsFileStartLoad"),c(m,null,p.isSelfHosted,"fixedCallback",i))}function i(e){if(U("settingsFileEndLoad"),!E()&&window.document.dontLoadTriangle)return window["walkme_snippet_blocked"]=!0,p.blocked=!0,void(p.continueLoad=function(){a(e)});b("cls"),a(e)}function a(e){r=I(e);var n=window.walkme_settings_callback;n&&n(r);var t=C("walkme_is_enabled_override");if(t!==undefined){if("0"===t)return}else if(!e.IsEnabled)return;!function i(e){if(window.walkme_custom_jquery)window.mtjQuery=walkme_custom_jquery,o();else{var n=O("walkmeCustomjQueryUrl");if(0!=n&&(e=n),p.localjQueryUrlPath){var t=e.lastIndexOf("/"),r=e.substring(t+1);e=p.localjQueryUrlPath+r}c(e,o)}}(e.jQueryFile)}function o(){if(U("jQueryScriptLoaded"),window["mtjQuery"]==undefined)return;if(e)return;e=!0,window.walkme_custom_jquery||mtjQuery.noConflict(),r.WaitDocumentReady?(b("wdr"),mtjQuery(document).ready(function(){s(r)})):(b("ndr"),s(r))}function s(e){U("jQueryDocumentReady");try{!function t(e){var n=O("wm-prelibjs");n&&(e.PreLibJsFile=n);e.PreLibJsFile&&""!=e.PreLibJsFile?(window["walkme_pre_lib_loaded"]=function(){window["walkme_pre_lib_loaded"]=function(){try{console.log("walkme_pre_lib_loaded was called twice.")}catch(D){}},u(e)},U("preLibStartLoad"),c(e.PreLibJsFile)):u(e)}(e)}catch(n){}}function u(e){c(function t(){var e;p.localLibUrl&&(e=p.localLibUrl);var n=O("walkmeCustomeLibUrl");if(0!=n)return n;return e}()||e.LibFile)}function y(){return E()?"wmPreviewSnippet":"wmSnippet"}function E(){return S==v.preview}function L(){this.recorderServer="###RECORDER_SERVER_NAME###",this.cdnServerName="###AUTO_DETECT###",this.storage="proxy",this.userGuids=["39efa08b7f464b0a8f8b91c2ddc49926"],window.walkme_custom_cdn_server&&(this.cdnServerName=walkme_custom_cdn_server),window.walkme_custom_app_server&&(this.recorderServer=walkme_custom_app_server),window.walkme_custom_data_url?this.triangleUrl=walkme_custom_data_url:this.triangleUrl=this.cdnServerName+"###SPECIAL_TRIANGLE_FILE###",window.walkme_custom_datafile_url?this.datafilesArray=walkme_custom_datafile_url:this.datafilesArray="###SPECIAL_DATA_FILE###",window.walkme_custom_widget_url?this.widgetUrl=walkme_custom_widget_url:this.widgetUrl="###SPECIAL_WIDGET_FILE###"}function I(e){if(_==undefined)return e;return function r(e,n){{if("string"==typeof e)return n(e);if("[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<e.length;t++)e[t]=r(e[t],n);return e}if("object"==typeof e){for(var t in e)Object.hasOwnProperty.call(e,t)&&(e[t]=r(e[t],n));return e}}return e}(e,function(e){return e.replace("###AUTO_DETECT###",_)})}function O(e){try{if(t){var n=t.getItem(e);if(null!=n)return n}}catch(D){}return!1}function T(e){return new RegExp(e,"i").test(navigator.userAgent||navigator.vendor||window.opera)}function c(e,n,t,r,i){var a=document.createElement("script");a.async=!0,window._walkmeConfig=window._walkmeConfig||{},t&&!0!==window._walkmeConfig.disableWMTS&&(e+=(-1==e.indexOf("?")?"?":"&")+"_wmts="+function o(){return(new Date).getTime()}()),a.src=e,a.id="mt_script",n&&(a.onload=n,a.onreadystatechange=n),function s(n,t){if(n&&t){var r=window[n];window[n]=function(e){window[n]=r,t(e)}}}(r,i),function u(){l=l||document.getElementsByTagName("head")[0];return l}().appendChild(a)}function A(e){return e.replace(/^\s+|\s+$/g,"")}function C(e,n){var t=n?O(e):function a(e){var n,t,r,i=document.cookie.split(";");for(n=0;n<i.length;n++)if(t=i[n].substr(0,i[n].indexOf("=")),r=i[n].substr(i[n].indexOf("=")+1),(t=t.replace(/^\s+|\s+$/g,""))==e)return r;return!1}(e);if(!1!==t)return t;var r=window[e];if(r!=undefined)return r;return undefined}function U(e){try{var n,t,r=(new Date).getTime();t=_walkmeInternals.timing?r-(n=_walkmeInternals.timing).list[n.list.length-1].time:((n=_walkmeInternals.timing={}).map={},n.list=[],n.delta=[],0),n.map[e]=r,n.list.push({name:e,time:r}),n.delta.push({name:e,delta:t})}catch(D){}}function x(e,n){try{b(e),console.log(n)}catch(D){}}this.getSnippetVersion=function(){return n},this.getSettingsFile=function(){return r},this.getServerSettings=function(){return g},this.fixAutoDetectPaths=I,setTimeout(function R(){var e;window._walkmeConfig=window._walkmeConfig||{},(p=_walkmeInternals).snippetLog=[],p.addTimeStamp=U,b("ish"),p.isSelfHosted="true"=="true",b("ssm"),function i(){"###IS_PREVIEW_MODE###"=="true"&&(S=v.preview)}(),g=new L,b("lsu");var n=false==1||false&&function a(){return function e(){return T("android|blackberry|iemobile|ip(ad|hone|od)|phone|symbian|windows (ce|phone)")}()}();if(n?(b("lsm"),e="###GET_MOBILE_SETTINGS_URL###",_walkmeConfig.platform=3):(b("lsw"),e="###AUTO_DETECT###/settings.txt"),-1<g.cdnServerName.indexOf("###AUTO_DETECT###")&&(b("lad"),_=function u(e,n){for(var t=document.getElementsByTagName("script"),r="###MOBILE_WEB_USER_GUID###",i="39efa08b7f464b0a8f8b91c2ddc49926",a=0;a<t.length;a++){var o=t[a].src;if(o&&0<o.indexOf("walkme_")){if(e){a=o.indexOf(e);var s=A(o.substr(0,a));b("dst")}else{a=o.indexOf("walkme_"),s=A(o.substr(0,a-1));b("dso")}return n&&p.isSelfHosted&&(s=s.split(i).join(r),b("dsm")),s}}return""}(g.cdnServerName.replace("###AUTO_DETECT###",""),n),g=I(g)),e=function o(e){var n=C("walkme_segmented_settings_"+"39efa08b7f464b0a8f8b91c2ddc49926"+"_"+"32",!0);if(n)return b("seg"),n;return e}(e),m=function s(e){var n="walkme_custom_user_settings_",t=C(n+"url",!0),r=C(n+"guid",!0),i=C(n+"env",!0),a=function o(){var e=O("walkMe_wm-settings-cache-bust");if(e){var n=/{"val":"(true|false)","exp":(\d+)}/.exec(e);if(n&&"true"==n[1]&&(new Date).getTime()<parseInt(n[2]))return!0}return!1}();t&&(e=t);r&&(e=e.replace(/(users\/)([^\/]*)(\/)/,"$1"+r+"$3"));!i&&""!==i||(i&&(i+="/"),e=e.replace(/(users\/[^\/]*\/)(.*)(sett)/,"$1"+i+"$3"));e=I(e),p.settingsUrl=e,b(a?"cb":"ncb"),a&&(e+="?forceUpdate="+(new Date).getTime());return e}(e),g=function l(e){return e}(g),b("cli"),_walkmeConfig.smartLoad){if(top!=window&&!function c(){try{if(parent.location.href)return!1}catch(e){}return!0}()&&function d(){try{var e=window;do{if((e=e.parent.window)._walkmeConfig)return!0}while(e!=top)}catch(n){}return!1}())return}else if(1!=window["walkme_load_in_iframe"]&&top!=window)return;if(b("cuc"),!n&&!function w(){if("1"===C("walkme_dont_check_browser")||E())return!0;var e=function t(){var e={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var n=0;n<e.length;n++){var t=e[n].string,r=e[n].prop;if(this.versionSearchString=e[n].versionSearch||e[n].identity,t){if(-1!=t.indexOf(e[n].subString))return e[n].identity}else if(r)return e[n].identity}},searchVersion:function(e){var n=e.indexOf(this.versionSearchString);if(-1==n)return;return parseFloat(e.substring(n+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer",versionSearch:" rv"},{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};if(e.init(),"Chrome"==e.browser||"Firefox"==e.browser||"Safari"==e.browser&&"Windows"!=e.OS)return!0;if("Explorer"==e.browser&&7<=e.version)return!0;return x("icb","WalkMe: Incompatible browser."),!1}(),n=function r(){return!function e(){return T("android.+mobile|blackberry|iemobile|ip(hone|od)|phone|symbian|windows (ce|phone)")}()&&!function t(){var e=Math.max(screen.width,screen.height),n=Math.min(screen.width,screen.height);return e<800||n<600}()}();return e&&n}()){try{b("bns"),walkme_browser_not_supported()}catch(D){}return}b("exl");var t=window[y()],r=p.blocked;if(b("lsl"),function f(){var e=y();window[e]=h}(),b("ipm"),!E()&&(b("clt"),window.document.dontLoadTriangle))return b("bsl"),window["walkme_snippet_blocked"]=!0,p.blocked=!0,void(p.continueLoad=k);b("slb"),t&&!r&&x("slt","WalkMe Snippet was loaded twice"),b("lss"),k(),b("eok")},0)}new WalkmeSnippet;